
<!-- This shows the admin page -->

{% extends "layout.html" %}
{% block block1 %}
<!-- This is called on the "Users" page and displays all accounts in the database -->
<h2>Here is a list of all current heroes:</h2>
<table style="width:100%;text-align:center;" border="1">
    <tr>
        <th><a href=/display_accounts/display/account.id/{{ descending }}>Account ID</a></th>
        <th>Prestige</th>
        <th><a href=/display_accounts/display/account.username/{{ descending }}>Username</a></th>
        <th><a href=/display_accounts/display/name/{{ descending }}>Character Name:</a></th>
        <th><a href=/display_accounts/display/age/{{ descending }}>Age:</a></th>
        <th>Deepest Cave</th>
        <th>Player Kills</th>
        <th>Monster Kills</th>
        <th>Deaths</th>
        <th>Health</th>
        <th><a href=/display_accounts/display/specializations.archetype.name/{{ descending }}>Archetype:</a></th>
        <th><a href=/display_accounts/display/last_login/{{ descending }}>Last Login:</a></th>
    </tr>
    {% for hero in all_heroes %} <!-- Works great for now unless some fields are None. So needs to be addressed later. -->
    <tr>
        <td>{{ hero.account.id }}</td>
        <td>{{ hero.account.prestige }}{% if hero.account.prestige > 50 %}<img src="/static/images/star.jpg">{% endif %}</td>
        <td><a href=/display_accounts/see_account/{{ hero.account.username }}>{{ hero.account.username }}</a> {% if hero.account.is_admin %}[ADMIN]{% endif %}</td>
        <td>{{ hero.character_name }}</td>
        <td>{{ hero.age }}</td>
        <td>{{ hero.journal.achievements.deepest_dungeon_floor }}</td>
        <td>{{ hero.journal.achievements.player_kills }}</td>
        <td>{{ hero.journal.achievements.monster_kills }}</td>
        <td>{{ hero.journal.achievements.deaths }}</td>
        <td>{{ hero.base_proficiencies['health'].current }}</td>
        <td>{% if hero.specializations.archetype %}{{ hero.specializations.archetype.name }}{% endif %}</td>
        <td>{{ hero.last_login }}</td>
    </tr>
    {% else %}
    <tr>
        <td>None</td>
        <td>None</td>
        <td>None</td>
        <td>None</td>
        <td>None</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
