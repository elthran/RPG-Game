{% extends "profile_template.html" %}
{% block block1 %}
<!-- This is the ability page. It let's you learn/upgrade abilities -->

<h1 style="text-align:center;">{{ ability_tree.title() }} Abilities</h1>
{{ ability_tree.title() }} Ability Points:
{% if ability_tree == "basic" %}
    <div style="display: inline" id="basic_points_remaining">{{ myHero.basic_ability_points }}</div>
{% elif ability_tree == "archetype" %}
    <div style="display: inline" id="archetypic_points_remaining">{{ myHero.archetypic_ability_points }}</div>
    <br>Current Archetype: {{ myHero.archetype }}
{% elif ability_tree == "calling" %}
    <div style="display: inline" id="calling_points_remaining">{{ myHero.calling_ability_points }}</div>
    <br>Current Calling: {{ myHero.calling }}
{% elif ability_tree == "religious" %}
    <div style="display: inline" id="religious_points_remaining">{{ myHero.religious_ability_points }}</div>
    <br>Current Religion: {{ myHero.religion }}
{% endif %}
<h2 style="text-align:left;">{{ ability_tree.title() }} Abilities</h2>
    {% for ability in myHero.abilities if ability.tree == ability_tree and ability.hidden == False  %}
<b>{{ ability.name.title() }} <div style="display: inline" id="ability-{{ ability.id }}">{{ ability.level }}</div>/{{ ability.max_level }}</b>

<span id="tooltipPopup-{{ ability.id }}">
    <div style="display: inline" id="ability-{{ ability.id }}-description">{{ ability.get_description() }}</div>
{%- for name in ability.requirements %}
    <br>&bull; {{ name | title }} {{ ability[name] }}
    {% else %}
    <br>Cost: 1 Skill Point
{%- endfor %}
</span>

        <button class="command" data="{{ ability.id }}, {{ ability.tree }}" data-function="updateAbility" data-name="update_ability">Learn</button><br>
    {% else %}
        No Abilities Available
    {% endfor %}
{% endblock %}


