{% extends "profile_template.html" %}
{% block block1 %}
<!-- This is the ability page. It let's you learn/upgrade abilities -->

<h1 style="text-align:center;">{{ ability_tree.title() }} Abilities</h1>
<div style="clear: both;"></div>

{% if ability_tree == "basic" %}
{% set points_remaining = hero.basic_ability_points %}
{% elif ability_tree == "archetype" %}
{% set points_remaining = hero.archetype_ability_points %}
{% elif ability_tree == "calling" %}
{% set points_remaining = hero.calling_ability_points %}
{% elif ability_tree == "pantheon" %}
{% set points_remaining = hero.pantheon_ability_points %}
{% endif %}

{% if becomeType %} <!-- The hero hasn't chosen his type. So don't let him choose an ability. Only choose a type. -->
    <div style="width:1100px;height:500px;">
        <div style="float:left;width:600px;border:dotted;">
            <h2>You have yet to choose a {{ ability_tree }}. After you choose, you will be able to learn abilities related to that {{ ability_tree }}.</h2>
            <ul>
            {% for choice in spec_choices %}
                <li>
                    <button class="genericTooltipTrigger" onclick="sendToPy(event, null, 'update_specialization', {'spec': '{{ becomeType }}', 'name': '{{ choice[0] }}'});">
                        {{ choice[0].title() }}
                    </button>
                </li>
            {% endfor %}
            </ul>
        </div>
        <div style="float:left;width:400px;border:dotted;height:auto;padding:5px;margin-left:50px;">
            <div><span id="abilityTooltip">Click on an ability to see more information.</span></div>
            <div><span id="choiceImage"></span></div>
        </div>
    </div>
{% else %} <!-- Hero has a chosen type. Let him choose their abilities! -->
<div class="stickyPointsRemainingBar">Points Remaining: <div style="display: inline" id="pointsRemaining">{{ points_remaining }}</div></div>
<div style="clear: both;"></div>
<div style="width:1100px;height:500px;">
	<div style="float:left;width:600px;border:dotted;">
        <ul>
        {% for ability in all_abilities %}
            <li>
                <button class="genericTooltipTrigger"
                            onclick="sendToPy(event, abilityTooltip, 'change_ability_tooltip', {'id': {{ ability.id }}});">
                    {{ ability.name}}
                    {% if ability.level %}<div style="display: inline" id="ability-{{ ability.id }}">{{ ability.level }}</div>{% endif %} <!-- If you have points in this, show the user how many -->
                </button>
            </li>
        {% endfor %}
        </ul>
    </div>
    <div style="float:left;width:400px;border:dotted;height:auto;padding:5px;margin-left:50px;">
        <div>
            <span id="abilityTooltip">Click on an ability to see more information.</span>
        </div>
    </div>
</div>
{% endif %}

{% endblock %}


