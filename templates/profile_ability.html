{% extends "profile_template.html" %}
{% block block1 %}
<!-- This is the ability page. It let's you learn/upgrade abilities -->

<h1 style="text-align:center;">{{ ability_tree.title() }} Abilities</h1>

{% if becomeType %} <!-- The hero hasn't chosen his type. So don't let him choose an ability. Only choose a type. -->
<div style="clear: both;"></div>
<div>
	<div class="leftPageHalf" style="width:65%;">
        <h2>You have yet to choose a {{ ability_tree }}. After you choose, you will be able to learn abilities related to that {{ ability_tree }}.</h2>
        <ul>
        {% for choice in all_type_choices %}
            <li>
            <button class="proficiencyTooltipTrigger" data-py-function="change_ability_choice_tooltip" data="{{ ability_tree }}_{{ choice[0] }}-{{ choice[1] }}" data-js-callback="abilityChoiceTooltip">{{ choice[0].title() }}</button>
            <button class="upgradeButton" data-py-function="update_specialization" data="{{ ability_tree }}_{{ choice[0] }}" data-js-callback="pageReload"></button>
            </li>
        {% endfor %}
        </ul>
    </div>
    <div class="attributeTooltip">
        <div><span id="abilityChoiceTooltip">Click on an attribute to see more information.</span></div>
        <div class="tooltipImage"><span id="choiceImage"></span></div>
    </div>
</div>
<div style="clear:both;"></div>

{% else %} <!-- Hero has a chosen type. Let him choose their abilities! -->
<div class="stickyPointsRemainingBar">Points Remaining: <div style="display: inline" id="points_remaining">{{ points_remaining }}</div></div>
<div style="clear: both;"></div>
<div>
	<div class="leftPageHalf" style="width:65%;">
        <ul>
        {% for ability in all_abilities %}
            <li>
            <button class="proficiencyTooltipTrigger" data-py-function="change_ability_tooltip" data="{{ ability.id }}" data-js-callback="abilityTooltip">{{ ability.name }} <div style="display: inline" id="ability-{{ ability.id }}">{{ ability.level }}</div>/{{ ability.max_level }}</button>
            <button class="upgradeButton" data-py-function="update_ability" data="{{ ability.id }}" id="abilityButton-{{ ability.id }}" data-js-callback="updateAbility" {% if myHero.basic_ability_points <= 0 %}style="display: none"{% endif %}></button>
            </li>
        {% endfor %}
        </ul>
    </div>
    <div class="attributeTooltip">
        <div><span id="attributeTooltip">Click on an attribute to see more information.</span></div>
        <div class="tooltipImage"><span id="attributeImage"></span></div>
    </div>
</div>
<div style="clear:both;"></div>
{% endif %}

{% endblock %}


