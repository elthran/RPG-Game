<!-- This shows the admin page -->

{% extends "layout.html" %}
{% set location = hero.current_location %}
{% if page_title is not defined %}
    {% set page_title = location.display.page_title %}
{% endif %}
{% if places_of_interest is not defined %}
    {% set places_of_interest = location.places_of_interest %}
{% endif %}
{% block block1 %}

<h1>I am at {{ location.name }}</h1>
<h1>{{ location.display.page_heading }}</h1>
<img src="/static/images/{{ location.display.page_image }}" alt="{{ location.display.page_image }}">
<p>{{ location.display.paragraph }}</p>

<div>
    {% if places_of_interest['children'] %}
        <h3>Explore this location</h3>
        {% for place in places_of_interest['children'] %}
           <button class="genericAccordion">{{ place.name }}</button>
                <div class="genericAccordionPanel">
                    <h2>{{ place.display.paragraph }} <a href="{{ place.url }}">Choose</a></h2>
                </div>
        {% endfor %}
    {% endif %}
</div>

<div>
    {% if places_of_interest['siblings'] %}
        <h3>Explore nearby locations</h3>
        {% for place in places_of_interest['siblings'] %}
           <button class="genericAccordion">{{ place.name }}</button>
                <div class="genericAccordionPanel">
                    <h2>{{ place.display.paragraph }} <a href="{{ place.url }}">Choose</a></h2>
                </div>
        {% endfor %}
    {% endif %}
</div>

<div>
    {% if location.parent %}
        <h3>Return to <a href="{{ location.parent.url }}">
            {{ location.parent.name }}</a>:
            {{ location.parent.display.paragraph }}
        </h3>
    {% endif %}
</div>

<script>
var allProfs = document.getElementsByClassName("genericAccordion");
var index;
for (index = 0; index < allProfs.length; index++) {
    allProfs[index].addEventListener("click", function() {
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
            panel.style.display = "none";
        } else {
            panel.style.display = "block";
        }
    });
}
</script>

{% endblock %}

